# 进程

## 流

1.  假设处理器现在在一个20ms的时间段里面 这个时间段称为一个独立的物理控制流 可以执行程序和进行程序调度。
   - 此时有A、B、C三个程序 在这个控制流里边进行轮转
   - 一个物理控制流被分成三个逻辑流 这三个逻辑流的执行是交错的 即不是并行的
   - **一个逻辑流的执行在时间上与另一个流重叠 称为并发流** 即在这个物理控制流中 当A进程执行到一半 轮转到了B进程 此时A被迫挂起 然后B执行完后A继续执行直到结束 在这个过程中A和B就是并发的 但B和C不是并发的 
2.  多个流并发地执行的一般现象称为并发 。 
3.  一个进程和其他进程轮流运行的概念称为**多任务**。
4.  一个进程执行它的逻辑流的一部分的每一时间段称为时间片。
5.  **并发的思想与流运行的处理器核数或者计算机数无关**。
6.  **并行** ：如果两个流并发地运行在不同的处理器核或者计算机上 就称为并行流 它们并行地运行 且并行地执行。

<img title="" src="https://upload-images.jianshu.io/upload_images/27859098-2d24c5e71a6bb5e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="进程" data-align="left" width="556">

## 私有地址空间

1.  **用户模式**
   
2.  **内核模式**
3.  **上下文切换**
   
   1. 一种较高层形式的异常控制流来实现多任务
   2. 内核为每个进程维护一个上下文，上下文是内核重新启动一个被抢占的进程所需的状态 它包括许多寄存器内容 用户栈 PC 内核栈等各种内核数据结构
   3. **调度**：进程执行的某些时刻 内核可以决定抢占当前进程 并重新开始一个先前被抢占的进程 并通过**上下文切换**的机制来控制转移新的进程
      
      - 内核先保存当前进程的上下文
      
      - 恢复某个先前被抢占的进程保存的上下文
      
      - 将控制传递给这个新恢复的进程

